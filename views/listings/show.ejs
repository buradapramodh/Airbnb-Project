<link rel="stylesheet" href="/css/show.css">

<% layout("/layouts/boilerplate") %>

<script>
  const mapToken = "<%= MAP_TOKEN %>";
  const listing = <%- JSON.stringify(listing) %>;
</script>

<div class="row mt-3">
  <div class="col-8 offset-2">
    <h3><%= listing.title %></h3>
    <img src="<%= listing.image.url %>" class="img-fluid mb-3">

    <p><b>Location:</b> <%= listing.location %>, <%= listing.country %></p>
    <p><b>Price:</b> ₹<%= listing.price %></p>
  </div>

  <% if (listing.geometry) { %>
    <div class="col-8 offset-2">
      <h5>Where you’ll be</h5>
      <div id="map" style="height:400px;border-radius:10px;"></div>
    </div>
  <% } else { %>
    <div class="col-8 offset-2">
      <p class="text-danger">Location map not available</p>
    </div>
  <% } %>
</div>

<script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
<script src="/js/map.js"></script>
